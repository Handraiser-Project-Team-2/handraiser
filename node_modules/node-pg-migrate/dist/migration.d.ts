import { DBConnection } from './db';
import MigrationBuilder from './migration-builder';
import { MigrationAction, MigrationBuilderActions, MigrationDirection, RunnerOption } from './types';
import { ColumnDefinitions } from './operations/tablesTypes';
export declare const loadMigrationFiles: (dir: string, ignorePattern?: string | undefined) => Promise<string[]>;
export interface RunMigration {
    readonly path: string;
    readonly name: string;
    readonly timestamp: number;
}
export declare class Migration implements RunMigration {
    static create(name: string, directory: string, language?: 'js' | 'ts' | 'sql', ignorePattern?: string): Promise<string>;
    readonly db: DBConnection;
    readonly path: string;
    readonly name: string;
    readonly timestamp: number;
    up?: false | MigrationAction;
    down?: false | MigrationAction;
    readonly options: RunnerOption;
    readonly typeShorthands?: ColumnDefinitions;
    readonly log: typeof console.log;
    constructor(db: DBConnection, migrationPath: string, { up, down }: MigrationBuilderActions, options: RunnerOption, typeShorthands?: ColumnDefinitions, log?: (message?: any, ...optionalParams: any[]) => void);
    _getMarkAsRun(action: MigrationAction): string;
    _apply(action: MigrationAction, pgm: MigrationBuilder): Promise<unknown>;
    _getAction(direction: MigrationDirection): MigrationAction;
    apply(direction: MigrationDirection): Promise<unknown>;
    markAsRun(direction: MigrationDirection): Promise<import("pg").QueryResult<any>>;
}
